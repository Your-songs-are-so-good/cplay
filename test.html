<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="file" id="file"> <button id="submit">upload</button>
    <script>
        let str =
            "作词 : ilem\n作曲 : ilem\n编曲：ilem\n\n\n\n\n你是信的开头诗的内容\n童话的结尾\n你是理所当然的奇迹\n你是月色真美\n你是圣诞老人送给我\n好孩子的礼物\n你是三千美丽世界里\n我的一瓢水\n所以让我再靠近一点点\n因为你太温暖\n我会再变得坚强一点点\n因为你太柔软\n交换无名指金色的契约\n给彼此岁月\n说好从今以后都牵着手\n因为要走很远\n\n你是我万水千山的冒险\n要找的标记点\n你是分割我人生的线\n又将它们相连\n你是前世千次的回眸\n虔诚牵的手\n你是其余所有的一切\n是我的世界\n所以请你再闪亮一点点\n尽管我太平凡\n我会再变得柔软一点点\n因为你太敏感\n交换无名指金色的契约\n给彼此岁月\n说好从今以后都牵着手\n不管要走多远\n\n让我再靠近一点点\n因为你太温暖\n我会再变得坚强一点点\n因为你太柔软\n交换无名指金色的契约\n给彼此岁月\n说好从今以后都牵着手\n因为要走很远";

        // 兼容不同 操作 系统的换行符, 统一采用 \n, 将多余的 \n 缩减到 两个(按照分段来处理)
        let arr = str.replace(/(\r\n|\r)/g, '\n').replace(/(\n)\1+/g, '\n\n').split('\n');

        // 转换格式     {"time": "[00:04.000]","data": "作词 : kz"}
        let content = arr.map((element) => {
            return {
                time: '[00:00.000]',
                data: element
            }
        })

        console.log(content);
    </script>
    <!-- <script src="./js/test.js"></script> -->
</body>

</html>